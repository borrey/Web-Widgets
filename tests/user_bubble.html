<!-- 

        \file svg_bubbles.html
  
        \author borrey
 
        Date Created: 2012-11-05T09:27:19-0700\n
        Date Modified:
 
        Copyright  All Rights Reserved  
-->

<html>
  <head>
    <meta http-equiv='content-type' content='text/html;charset=utf-8' />
    <title>SVG Bubbles</title>
    <link rel="stylesheet" href="../stylesheet/font-awesome.css">
    <script src="../javascript/lib/d3.v2.js"></script>
    <script type="text/javascript" src="../javascript/util.js"></script>
    <script type="text/javascript" src="../javascript/svg_bubbles.js"></script>
    <script type="text/javascript" src="../javascript/slideout.js"></script>
    <style type='text/css' media='screen'>
      .bubbles {
        position : relative;
      }
      a.close::before{
        color:red;
      }
      a.close{
        float : right;
        cursor: pointer;
        margin : 2.5px;
      }
      .slideout {
        position : absolute;
        overflow : hidden;
      }
      .hidden {
        width : 0px;
      }
      .slideout > .top{
        position : absolute;
        border : solid 1px;
        width : 100%;
        top : 0px;
        height : 10%;
      }
      .slideout > .content{
        position : absolute;
        border : solid 1px;
        width : 100%;
        height : 90%;
        overflow : auto;
        bottom : 0px;
      }
      .bubbles .slideout {
        
        width : 50%;
        height : 50%;
        right : 0px;
        top : 0px;
        border : solid 1px;
      }
      .bubbles .bubble {
        cursor: pointer;
      }
      .bubbles .bubble .info{
        stroke : black;
        stroke-width : 2px;
        fill : white;
      }
      .bubbles .bubble .rating{
        fill : none;
        stroke : steelblue;
        stroke-width : 5px;
      } 
      .bubbles .hidden {
        display : none;
      }
    </style>
  </head>
  <body>
    <header>      <h1>SVG Bubbles</h1>
    </header>
    <article id='container' ></article>
    <footer></footer>
  </body>
  <script type="text/javascript">
    window.onload=function(){
      var container = document.getElementById('container')
      ;
      if( 'util' in window ){
        var monitor = window.util.createBubbleMonitor( ),
        tools = monitor.appendChild(window.util.createSlideout()),
        data = {
          35 : { id : 35, rating : 45 },
          45 : { id : 45, rating : 35 }
        };
        monitor.addListener('test',{
          bubbleUnSelected : function(){ tools.slide( false ); },
          bubbleSelected : function(){ tools.slide( true ); }
        });
        //tools.innerHTML ='Hello world';

        container.appendChild( monitor );
        monitor.updateData( { 1 : { id : 1, rating : 55 }, 2 : { id : 2, rating : 70 }, 3 : { id : 3, rating : 25 },  4 : { id : 4, rating : 75 }, 6 : { id : 6, rating : 20 }, 35 : { id : 35, rating : 45 }, 45 : { id : 45, rating : 35 }, 55 : { id : 55, rating : 15 } }, {} );
    setTimeout( function(){ 
      monitor.updateData( { 5 : { id: 5, rating : 90 }, 35 : { rating : 65 } }, { }); 
    }, 1000 );
    setTimeout( function(){ 
      monitor.updateData( { 35 : { rating : 95 }, 5 : { rating : 5} }, {}); 
    }, 2000 );
      }

    }
    
  </script>
</html>
